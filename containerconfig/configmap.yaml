---
apiVersion: v1
kind: ConfigMap
metadata:
  name: shopmaze-config
  labels:
    app: shopmaze
    component: frontend
data:
  # JavaScript configuration that will be injected into the HTML
  app-config.js: |
    // ShopMaze Deployment Configuration
    // This file is automatically generated from ConfigMap
    
    window.DEPLOYMENT_CONFIG = {
      // WebSocket URL for container deployments
      websocketUrl: 'wss://redhat-quest-server-gcolman1-dev.apps.rm2.thpm.p1.openshiftapps.com/game-control',
      
      // Environment settings
      environment: 'production',
      
      // Game configuration
      game: {
        debug: false,
        logLevel: 'info'
      },
      
      // UI configuration
      ui: {
        showDebugInfo: false,
        autoConnect: true
      }
    };
    
    // Set the WebSocket URL for immediate use
    window.WEBSOCKET_URL = window.DEPLOYMENT_CONFIG.websocketUrl;
    
    console.log('ShopMaze: Loaded deployment configuration', window.DEPLOYMENT_CONFIG);

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: shopmaze-websocket-config
  labels:
    app: shopmaze
    component: frontend
data:
  # Simple WebSocket URL configuration
  websocket-url: "wss://redhat-quest-server-gcolman1-dev.apps.rm2.thpm.p1.openshiftapps.com/game-control"
  
  # Alternative configurations for different environments
  websocket-url-dev: "ws://localhost:8080/game-control"
  websocket-url-staging: "wss://redhat-quest-websocket-route-staging.apps.cluster.example.com/game-control"
  websocket-url-prod: "wss://redhat-quest-server-gcolman1-dev.apps.rm2.thpm.p1.openshiftapps.com/game-control"
